<div class="row">
  <div class="col s11">
    <user-form *ngIf="showUserForm" (saveNewUser)="saveNewUser($event)" (cancelNewUser)="cancelNewUser($event)"></user-form>
    <table class="highlight responsive-table">
      <thead>
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Phone</th>
        <th>Email</th>
        <th></th>
      </tr>
      </thead>
      <tbody *ngFor="let user of users; let i = index">
      <tr [ngClass]="{'row-expanded-top':user.expanded}">
        <td>{{user.firstName}}</td>
        <td>{{user.lastName}}</td>
        <td>{{user.phone}}</td>
        <td>{{user.email}}</td>
        <td><i class="fa fa-pencil fa-lg"></i></td>
        <td (click)="openDeleteUserModal(user)"><i class="fa fa-trash fa-lg"></i></td>
        <td (click)="expandCollapseUser(i)"><i class="fa fa-lg" [ngClass]="{'fa-chevron-down': !user.expanded, 'fa-chevron-up': user.expanded}" aria-hidden="true"></i></td>
      </tr>
      <tr [hidden]="!user.expanded" [ngClass]="{'row-expanded-bottom':user.expanded}">
        <td colspan="7">
          <span>Notes</span>
          <p>{{user.notes}}</p>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="col s1">
    <a class="btn-floating btn-large waves-effect waves-light orange darken-3"
       [ngClass]="{'disabled': showUserForm }"
       (click)="addUser()"><i class="material-icons">add</i>
    </a>
  </div>
</div>

<!-- Modal Structure -->
<div id="delete-user-modal" class="modal" materialize="modal" [materializeParams]="[{dismissible: false}]" [materializeActions]="deleteUserModal">
  <div class="modal-content">
    <h4>Delete User</h4>
    <p>Are you sure you want to delete {{users}}</p>
  </div>
  <div class="modal-footer">
    <a class="waves-effect waves-green btn-flat" (click)="closeDeleteUserModal()">No</a>
    <a class="modal-action modal-close waves-effect red waves-red btn-flat">Yes</a>
  </div>
</div>
